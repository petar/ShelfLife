<!doctype html>
<!--[if lt IE 7 ]><html lang="en" class="no-js ie6"><![endif]-->
<!--[if (gt IE 6)|!(IE)]><!--><html lang="en" class="no-js"><!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />

    <title>Sociability documentation</title>
    <meta name="description" content="Sociability dcumentation">
    <meta name="author" content="Petar Maymounkov">

    <link href="screen.css" media="screen, projection" rel="stylesheet" type="text/css" />
</head>

<body>
	<div class="content">
		<h2>User guide</h2>
		<p>The User Guide discusses how to insert pre-made sociability UX components inside
		your web pages.
		</p>
		<h3>Like button</h3>

		<p>Before we can look at the Like button we need to discuss social objects.
		The like system is designed on the premises that users can "like" objects. These
		objects are treated as abstract entities, identified by a unique and unchanging
		string identifier. The reason for this design choice is so to enable the like system
		to co-exist with objects that might not be a part of Sociability itself, rather a
		part of your pre-existing site logic. Because these objects are "external" to
		Sociability, they are called <em>foreign objects</em> and their respective
		identifiers are called <em>foreign IDs</em>.
		As an example, consider a library web site where a book is a natural object (that is
		not known to Sociability per se). You (the developer) can choose some permanent
		book identifier, like the ISBN number, as the foreign ID for each book.</p>

		<p>Once you make up your mind on the structure of your foreign IDs, inserting a like
		button is quite simple. You need to add the following HTML markup at the
		location in the page where you want to the like button to appear:</p>

		<pre>    &lt;div class="inject-like" fid="isbn:123456789-0"&gt;&lt;/div&gt;</pre>

		<p>In order to give you fine control over when the like buttons appear (as well as
		to allow you to add like buttons dynamically), you need to call the function
		<code>ss.ui.showLikeButtons()</code> explicitly for the like buttons to actually be injected at the
		respective placeholder locations. Typically, the placeholders will be part of your
		static HTML, in which case the invocation of this function should appear in your
		page JavaScript init sequence. Borrowing from our previous example, your startup 
		script might look something like this:
		</p>
<pre>
&lt;script type="text/javascript"&gt;
	initSociability(function() {
		ss.ui.showUserBar($("body"));
		ss.ui.showLikeButtons();
	}, function() { console.log("Problem initializing Sociability.") });
&lt;/script&gt;
</pre>
		<p>In advanced cases, whereby you add placeholder markup dynamically, you can make
		a repeated call to <code>ss.ui.showLikeButtons()</code> which will populate the
		newly added placeholders with like buttons without interfering with the like buttons
		already present on the page.
		</p>

		<h3>Follow button</h3>

		<p>The follow button is part of the Notification System. When a user "follows" an
		object, they will see all object-related notifications in their news stream.
		Inserting a follow button UI component is almost identical to inserting a like
		button. The placeholder for a follow button looks like this:

		<pre>    &lt;div class="inject-follow" fid="isbn:123456789-0"&gt;&lt;/div&gt;</pre>

		Consequently, the initialization script must include a call to
		<code>ss.ui.showFollowButtons()</code> like so:

<pre>
&lt;script type="text/javascript"&gt;
	initSociability(function() {
		ss.ui.showUserBar($("body"));
		ss.ui.showLikeButtons();
		ss.ui.showFollowButtons();
	}, function() { console.log("Problem initializing Sociability.") });
&lt;/script&gt;
</pre>

		<h3>Message threads</h3>

		<p>A message thread (thread, for short) is a multi-user discussion on some topic. A
		thread can be attached to any object. Sociability offers a UI component that shows
		the thread associated to any given object (specified by its ID) and allows
		interaction with it. Threads are inserted into a page in the same way buttons
		are:</p>

		<pre>    &lt;div class="inject-msgthread" fid="isbn:123456789-0"&gt;&lt;/div&gt;</pre>

		<p>A page may contain multiple threads for different objects, as well as multiple
		threads for the same object. In the latter case, multiple threads for the same
		object are visually updated in sync.</p>

		<p>As for buttons, there is a dedicated function
		<code>ss.ui.showMessageThreads()</code> which converts all 
		<code>&lt;div class="inject-msgthread"  ...</code> into actual message thread UI components.
		Typically, it is called at initializtion:

<pre>
&lt;script type="text/javascript"&gt;
	initSociability(function() {
		ss.ui.showUserBar($("body"));
		ss.ui.showLikeButtons();
		ss.ui.showFollowButtons();
		ss.ui.showMessageThreads();
	}, function() { console.log("Problem initializing Sociability.") });
&lt;/script&gt;
</pre>

		<h3>General styling tips</h3>

		<p>All Sociability UI components come fully-styled. Oftentimes, however, you can
		change some high-level style properties easily by modifying the class or style of
		the injection <code>div</code>. For example:</p>

		<pre>    &lt;div class="inject-msgthread" fid="obj1" style="width:400px"&gt;&lt;/div&gt;</pre>

		<p>This technique will typically make sense for "outer" properties like
		<code>width</code>, <code>height</code>, <code>margin</code>, <code>padding</code>,
		<code>display</code>, <code>float</code>, <code>visibility</code>, etc.</p>

		<p>At other times, you may want to dynamically show or hide a Sociability UI
		component using some animation effect, e.g. A good way to achieve this is to wrap
		the injection <code>div</code> into another <code>div</code> element and apply the
		custom animation to that element. Like so:
<pre>
    &lt;div class="animate-me"&gt;
        &lt;div class="inject-msgthread" fid="obj1" style="width:400px"&gt;&lt;/div&gt;
    &lt;/div&gt;
</pre>

	</div>
</body>
</html>
